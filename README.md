# LEARNING SYSTEM

## SystemDesign
![изображение](https://github.com/user-attachments/assets/b165c2cc-bc8b-45a4-a650-a141073bc481)

## Архитектура
Принято решение реализовывать чистую архитектуру преимущественно из 3 слоёв:
* Domain
  * Сущности
  * Интерфейсы репозиториев сущностей
  * Некоторые датаклассы (ДТО)
* Application
  * Варианты использования
  * Частично объявленные интерфейсы для брокеров
  * Некоторые датаклассы (ДТО)
* Presentors
  * В большинстве сервисов данный слой не реализован, т.к. предполагается получение данных по одному протоколу, а создавать и поддерживать множество прокси классов-контроллеров затратно для развития и поддержки
* Infrastructure
  * Модели базы данных
  * Репозиторий для базы данных
  * Валидационные модели
  * Мапперы

## 1. TESTING SERVICE
_**- Сервис тестирования задач по програмированию**_

### Архитектура 


### Основной Стек:

* FastAPI
  * Асинхронный фреймвор для написания внешнего API
  * _**P.S.** Внешнее АПИ доступно только "диридеру", ни внешний мир, ни другие сервисы не могут у нему обращаться_
* Pydantic
  * Библиотека для валидации и написания ДТО для внешнего АПИ
* Sqlalchemy (PostgreSQL) + Alembic
  * Библиотека для представления сущностей в БД
  * Библиотека для автоматической генерации миграций и перехода по ним 
* FastStream (RabbitMQ)
  * Асинхронный фреймвор для работы с брокерами (вторичное АПИ для взаимодействия с воркерами)
 
### Файловая структура
``` 
LayerName/
    ModuleName/
```

Например, доменный слой выглядит следующим образом:
```
Domain/
    ContestTask/
        repository.py
        dtos.py
        entities.py            
    ExecutionTest/
        repository.py
        dtos.py
        entities.py        
    Solution/
        repository.py
        dtos.py
        entities.py  
```
